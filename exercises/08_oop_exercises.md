# ğŸ“ 08_ç±»ä¸å¯¹è±¡ç»ƒä¹ 

> **çŸ¥è¯†ç‚¹**ï¼šç±»çš„å®šä¹‰ã€`__init__`æ„é€ æ–¹æ³•ã€å®ä¾‹å±æ€§ã€å®ä¾‹æ–¹æ³•ã€ç»§æ‰¿ã€`super()`ã€ç±»å±æ€§ã€ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•

---

## é¢˜ç›®1ï¼šå®šä¹‰ä¸€ä¸ªç®€å•çš„ç±» â­

**é¢˜ç›®**ï¼šå®šä¹‰ä¸€ä¸ª `Dog` ç±»ï¼ŒåŒ…å«åå­—å’Œå¹´é¾„å±æ€§ï¼Œä»¥åŠä¸€ä¸ªå«çš„æ–¹æ³•ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. å®šä¹‰ä¸€ä¸ªåä¸º `Dog` çš„ç±»
# 2. åœ¨ `__init__` æ–¹æ³•ä¸­æ¥æ”¶ `name` å’Œ `age` å‚æ•°ï¼Œå¹¶èµ‹ç»™å®ä¾‹å±æ€§
# 3. å®šä¹‰ä¸€ä¸ªåä¸º `bark` çš„å®ä¾‹æ–¹æ³•ï¼Œæ‰“å° "æ—ºæ—ºï¼"
# 4. åˆ›å»ºä¸€ä¸ª `Dog` ç±»çš„å®ä¾‹å¹¶è°ƒç”¨å…¶æ–¹æ³•
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class Dog:
    # æ„é€ æ–¹æ³•
    def __init__(self, name, age):
        # å®ä¾‹å±æ€§
        self.name = name
        self.age = age
        print(f"ä¸€åªåå« {self.name} çš„ç‹—ç‹—è¯ç”Ÿäº†ï¼")

    # å®ä¾‹æ–¹æ³•
    def bark(self):
        print(f"{self.name} è¯´: æ—ºæ—ºï¼")

# åˆ›å»ºå®ä¾‹ï¼ˆå®ä¾‹åŒ–ï¼‰
my_dog = Dog("å°ç™½", 3)

# è®¿é—®å®ä¾‹å±æ€§
print(f"æˆ‘çš„ç‹—ç‹—å« {my_dog.name}ï¼Œå®ƒ {my_dog.age} å²äº†ã€‚")

# è°ƒç”¨å®ä¾‹æ–¹æ³•
my_dog.bark()

# è¾“å‡º:
# ä¸€åªåå« å°ç™½ çš„ç‹—ç‹—è¯ç”Ÿäº†ï¼
# æˆ‘çš„ç‹—ç‹—å« å°ç™½ï¼Œå®ƒ 3 å²äº†ã€‚
# å°ç™½ è¯´: æ—ºæ—ºï¼
```

**çŸ¥è¯†ç‚¹**ï¼š
- **`class` å…³é”®å­—**ï¼šç”¨äºå®šä¹‰ç±»ã€‚
- **`__init__(self, ...)`**ï¼šæ„é€ æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å®ä¾‹å±æ€§ã€‚`self` ä»£è¡¨å®ä¾‹æœ¬èº«ã€‚
- **å®ä¾‹å±æ€§**ï¼šé€šè¿‡ `self.attribute = value` å®šä¹‰ï¼Œæ¯ä¸ªå®ä¾‹ç‹¬æœ‰ã€‚
- **å®ä¾‹æ–¹æ³•**ï¼šç±»ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ `self`ã€‚

</details>

---

## é¢˜ç›®2ï¼šå®ä¾‹æ–¹æ³• â­â­

**é¢˜ç›®**ï¼šä¸º `Dog` ç±»æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ”¹å˜ç‹—ç‹—çš„å¹´é¾„ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. åœ¨ `Dog` ç±»ä¸­æ·»åŠ ä¸€ä¸ª `celebrate_birthday` æ–¹æ³•
# 2. è¯¥æ–¹æ³•å°†ç‹—ç‹—çš„ `age` å±æ€§å¢åŠ  1
# 3. åˆ›å»ºå®ä¾‹å¹¶éªŒè¯å¹´é¾„å˜åŒ–
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def bark(self):
        print(f"{self.name} è¯´: æ—ºæ—ºï¼")
        
    def celebrate_birthday(self):
        """åº†ç¥ç”Ÿæ—¥ï¼Œå¹´é¾„åŠ ä¸€å²"""
        self.age += 1
        print(f"ç¥ {self.name} ç”Ÿæ—¥å¿«ä¹ï¼ç°åœ¨å®ƒ {self.age} å²äº†ã€‚")

# åˆ›å»ºå®ä¾‹
my_dog = Dog("å°ç™½", 3)
print(f"åˆå§‹å¹´é¾„: {my_dog.age}")

# è°ƒç”¨æ–¹æ³•ä¿®æ”¹å±æ€§
my_dog.celebrate_birthday()
print(f"åº†ç¥ç”Ÿæ—¥åå¹´é¾„: {my_dog.age}")

# è¾“å‡º:
# åˆå§‹å¹´é¾„: 3
# ç¥ å°ç™½ ç”Ÿæ—¥å¿«ä¹ï¼ç°åœ¨å®ƒ 4 å²äº†ã€‚
# åº†ç¥ç”Ÿæ—¥åå¹´é¾„: 4
```

**çŸ¥è¯†ç‚¹**ï¼š
- **å®ä¾‹æ–¹æ³•**å¯ä»¥è®¿é—®å’Œä¿®æ”¹å®ä¾‹çš„å±æ€§ï¼ˆé€šè¿‡ `self`ï¼‰ã€‚
- `self` æ˜¯è¿æ¥æ–¹æ³•å’Œå®ä¾‹å±æ€§çš„æ¡¥æ¢ã€‚

</details>

---

## é¢˜ç›®3ï¼šç»§æ‰¿ä¸ `super()` â­â­

**é¢˜ç›®**ï¼šåˆ›å»ºä¸€ä¸ª `Cat` ç±»ç»§æ‰¿è‡ªä¸€ä¸ª `Animal` çˆ¶ç±»ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. å®šä¹‰ä¸€ä¸ª `Animal` çˆ¶ç±»ï¼Œæœ‰ `name` å±æ€§å’Œ `eat` æ–¹æ³•
# 2. å®šä¹‰ä¸€ä¸ª `Cat` å­ç±»ï¼Œç»§æ‰¿è‡ª `Animal`
# 3. åœ¨ `Cat` çš„ `__init__` ä¸­ä½¿ç”¨ `super()` è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•
# 4. ä¸º `Cat` æ·»åŠ ä¸€ä¸ªç‰¹æœ‰çš„ `meow` æ–¹æ³•
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
# çˆ¶ç±»
class Animal:
    def __init__(self, name):
        self.name = name
        print(f"ä¸€åªåŠ¨ç‰© {self.name} è¯ç”Ÿäº†ã€‚")

    def eat(self):
        print(f"{self.name} æ­£åœ¨åƒä¸œè¥¿ã€‚")

# å­ç±»
class Cat(Animal):
    def __init__(self, name, color):
        # ä½¿ç”¨ super() è°ƒç”¨çˆ¶ç±»çš„ __init__ æ–¹æ³•
        super().__init__(name)
        self.color = color  # å­ç±»ç‰¹æœ‰çš„å±æ€§
        print(f"å®ƒæ˜¯ä¸€åª {self.color} çš„çŒ«ã€‚")

    def meow(self):
        # å­ç±»ç‰¹æœ‰çš„æ–¹æ³•
        print(f"{self.name} è¯´: å–µ~")

# åˆ›å»ºå­ç±»å®ä¾‹
my_cat = Cat("å’ªå’ª", "ç™½è‰²")

# è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•
my_cat.eat()

# è°ƒç”¨å­ç±»çš„æ–¹æ³•
my_cat.meow()

# è¾“å‡º:
# ä¸€åªåŠ¨ç‰© å’ªå’ª è¯ç”Ÿäº†ã€‚
# å®ƒæ˜¯ä¸€åª ç™½è‰² çš„çŒ«ã€‚
# å’ªå’ª æ­£åœ¨åƒä¸œè¥¿ã€‚
# å’ªå’ª è¯´: å–µ~
```

**çŸ¥è¯†ç‚¹**ï¼š
- **ç»§æ‰¿**ï¼š`class Child(Parent):`ï¼Œå­ç±»è‡ªåŠ¨æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚
- **`super()`**ï¼šç”¨äºè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚`super().__init__(...)` æ˜¯åœ¨å­ç±»æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–çˆ¶ç±»å±æ€§çš„æ ‡å‡†æ–¹å¼ã€‚
- **æ–¹æ³•é‡å†™ (Override)**ï¼šå¦‚æœå­ç±»å®šä¹‰äº†ä¸çˆ¶ç±»åŒåçš„æ–¹æ³•ï¼Œä¼šè¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ã€‚

</details>

---

## é¢˜ç›®4ï¼šæ–¹æ³•é‡å†™ â­â­â­

**é¢˜ç›®**ï¼šåœ¨ `Cat` å­ç±»ä¸­é‡å†™ `eat` æ–¹æ³•ï¼Œä½¿å…¶è¡Œä¸ºä¸çˆ¶ç±»ä¸åŒã€‚

```python
# ä»»åŠ¡ï¼š
# 1. åœ¨ `Cat` ç±»ä¸­é‡æ–°å®šä¹‰ `eat` æ–¹æ³•
# 2. æ–°æ–¹æ³•æ‰“å° "çŒ«å’ªæ­£åœ¨ä¼˜é›…åœ°åƒé±¼ã€‚"
# 3. åˆ›å»ºå®ä¾‹å¹¶éªŒè¯é‡å†™æ•ˆæœ
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class Animal:
    def __init__(self, name):
        self.name = name

    def eat(self):
        print(f"{self.name} æ­£åœ¨åƒä¸œè¥¿ã€‚")

class Cat(Animal):
    def __init__(self, name):
        super().__init__(name)

    # é‡å†™çˆ¶ç±»çš„ eat æ–¹æ³•
    def eat(self):
        print(f"{self.name} æ­£åœ¨ä¼˜é›…åœ°åƒé±¼ã€‚")
        
    def meow(self):
        print(f"{self.name} è¯´: å–µ~")

# åˆ›å»ºå®ä¾‹
my_animal = Animal("åŠ¨ç‰©")
my_cat = Cat("å’ªå’ª")

# è°ƒç”¨å„è‡ªçš„ eat æ–¹æ³•
my_animal.eat()  # åŠ¨ç‰© æ­£åœ¨åƒä¸œè¥¿ã€‚
my_cat.eat()     # å’ªå’ª æ­£åœ¨ä¼˜é›…åœ°åƒé±¼ã€‚
```

**çŸ¥è¯†ç‚¹**ï¼š
- **æ–¹æ³•é‡å†™**ï¼šå­ç±»å¯ä»¥å®šä¹‰ä¸€ä¸ªå’Œçˆ¶ç±»åŒåçš„æ–¹æ³•ï¼Œä»è€Œè¦†ç›–çˆ¶ç±»çš„è¡Œä¸ºã€‚
- å½“è°ƒç”¨ `my_cat.eat()` æ—¶ï¼ŒPython ä¼šé¦–å…ˆåœ¨ `Cat` ç±»ä¸­æŸ¥æ‰¾ `eat` æ–¹æ³•ï¼Œå¦‚æœæ‰¾åˆ°å°±æ‰§è¡Œï¼›å¦‚æœæ‰¾ä¸åˆ°ï¼Œæ‰ä¼šå»çˆ¶ç±» `Animal` ä¸­æŸ¥æ‰¾ã€‚

</details>

---

## é¢˜ç›®5ï¼šç±»å±æ€§ä¸å®ä¾‹å±æ€§ â­â­â­

**é¢˜ç›®**ï¼šå®šä¹‰ä¸€ä¸ª `Car` ç±»ï¼ŒåŒºåˆ†æ€»ç”Ÿäº§æ•°é‡ï¼ˆç±»å±æ€§ï¼‰å’Œæ¯è¾†è½¦çš„é¢œè‰²ï¼ˆå®ä¾‹å±æ€§ï¼‰ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. å®šä¹‰ä¸€ä¸ª `Car` ç±»
# 2. æ·»åŠ ä¸€ä¸ªç±»å±æ€§ `total_cars`ï¼Œåˆå§‹ä¸º 0ï¼Œç”¨äºè®°å½•ç”Ÿäº§çš„æ±½è½¦æ€»æ•°
# 3. åœ¨ `__init__` ä¸­æ¥æ”¶ `color` å‚æ•°ä½œä¸ºå®ä¾‹å±æ€§
# 4. æ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œ`total_cars` å°±å¢åŠ  1
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class Car:
    # ç±»å±æ€§ï¼šæ‰€æœ‰å®ä¾‹å…±äº«
    total_cars = 0

    def __init__(self, color):
        # å®ä¾‹å±æ€§ï¼šæ¯ä¸ªå®ä¾‹ç‹¬æœ‰
        self.color = color
        # é€šè¿‡ç±»åè®¿é—®å¹¶ä¿®æ”¹ç±»å±æ€§
        Car.total_cars += 1
        print(f"ä¸€è¾† {self.color} çš„è½¦è¢«åˆ¶é€ å‡ºæ¥äº†ï¼")

print(f"åˆå§‹æ€»æ•°: {Car.total_cars}") # 0

# åˆ›å»ºå®ä¾‹
car1 = Car("çº¢è‰²")
print(f"å½“å‰æ€»æ•°: {Car.total_cars}") # 1

car2 = Car("è“è‰²")
print(f"å½“å‰æ€»æ•°: {Car.total_cars}") # 2

# è®¿é—®å®ä¾‹å±æ€§
print(f"ç¬¬ä¸€è¾†è½¦æ˜¯ {car1.color} çš„ã€‚") # çº¢è‰²
print(f"ç¬¬äºŒè¾†è½¦æ˜¯ {car2.color} çš„ã€‚") # è“è‰²

# æ‰€æœ‰å®ä¾‹å…±äº«åŒä¸€ä¸ªç±»å±æ€§
print(f"car1 çœ‹åˆ°çš„æ€»æ•°: {car1.total_cars}") # 2
print(f"car2 çœ‹åˆ°çš„æ€»æ•°: {car2.total_cars}") # 2
```

**çŸ¥è¯†ç‚¹æ€»ç»“**ï¼š

| ç‰¹æ€§ | ç±»å±æ€§ (`Car.total_cars`) | å®ä¾‹å±æ€§ (`self.color`) |
|---|---|---|
| **å®šä¹‰ä½ç½®** | åœ¨ `class` ä»£ç å—å†…ï¼Œæ–¹æ³•ä¹‹å¤– | åœ¨ `__init__` æ–¹æ³•å†…ï¼Œä½¿ç”¨ `self.` |
| **å½’å±** | å±äºç±»æœ¬èº« | å±äºç±»çš„æ¯ä¸ªå®ä¾‹ |
| **å…±äº«æ€§** | æ‰€æœ‰å®ä¾‹å…±äº«åŒä¸€ä¸ªç±»å±æ€§ | æ¯ä¸ªå®ä¾‹çš„å±æ€§æ˜¯ç‹¬ç«‹çš„ |
| **è®¿é—®æ–¹å¼** | `ClassName.attribute` æˆ– `instance.attribute` | `instance.attribute` |
| **ä¿®æ”¹æ–¹å¼** | æ¨èä½¿ç”¨ `ClassName.attribute = value` | `instance.attribute = value` |

</details>

---

## é¢˜ç›®6ï¼šç±»æ–¹æ³•ä¸é™æ€æ–¹æ³• â­â­â­

**é¢˜ç›®**ï¼šä¸º `Car` ç±»æ·»åŠ ä¸€ä¸ªç±»æ–¹æ³•æ¥æ˜¾ç¤ºæ€»äº§é‡ï¼Œä»¥åŠä¸€ä¸ªé™æ€æ–¹æ³•æ¥æä¾›å…³äºæ±½è½¦çš„é€šç”¨ä¿¡æ¯ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. åœ¨ `Car` ç±»ä¸­æ·»åŠ ä¸€ä¸ªç”¨ `@classmethod` è£…é¥°çš„ `display_total_cars` æ–¹æ³•
# 2. è¯¥æ–¹æ³•æ¥æ”¶ `cls` å‚æ•°ï¼Œå¹¶æ‰“å° `total_cars`
# 3. æ·»åŠ ä¸€ä¸ªç”¨ `@staticmethod` è£…é¥°çš„ `is_eco_friendly` æ–¹æ³•
# 4. è¯¥æ–¹æ³•ä¸æ¥æ”¶ `cls` æˆ– `self`ï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªå›ºå®šçš„ä¿¡æ¯
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class Car:
    total_cars = 0

    def __init__(self, color):
        self.color = color
        Car.total_cars += 1

    # ç±»æ–¹æ³•
    @classmethod
    def display_total_cars(cls):
        # cls ä»£è¡¨ç±»æœ¬èº« (Car)
        print(f"æ€»å…±ç”Ÿäº§äº† {cls.total_cars} è¾†è½¦ã€‚")

    # é™æ€æ–¹æ³•
    @staticmethod
    def is_eco_friendly(fuel_type):
        if fuel_type == "electric":
            return True
        return False

# åˆ›å»ºå®ä¾‹
Car("çº¢è‰²")
Car("è“è‰²")

# è°ƒç”¨ç±»æ–¹æ³• (å¯ä»¥é€šè¿‡ç±»åæˆ–å®ä¾‹åè°ƒç”¨)
Car.display_total_cars()      # æ€»å…±ç”Ÿäº§äº† 2 è¾†è½¦ã€‚
car1 = Car("ç™½è‰²")
car1.display_total_cars()     # æ€»å…±ç”Ÿäº§äº† 3 è¾†è½¦ã€‚

# è°ƒç”¨é™æ€æ–¹æ³• (å¯ä»¥é€šè¿‡ç±»åæˆ–å®ä¾‹åè°ƒç”¨)
print(f"ç”µåŠ¨è½¦ç¯ä¿å—? {Car.is_eco_friendly('electric')}") # True
print(f"æ±½æ²¹è½¦ç¯ä¿å—? {Car.is_eco_friendly('gasoline')}") # False
```

**çŸ¥è¯†ç‚¹æ€»ç»“**ï¼š

| æ–¹æ³•ç±»å‹ | ç¬¬ä¸€ä¸ªå‚æ•° | è£…é¥°å™¨ | è®¿é—®èƒ½åŠ› | ç”¨é€” |
|---|---|---|---|---|
| **å®ä¾‹æ–¹æ³•** | `self` (å®ä¾‹) | (æ— ) | å¯è®¿é—®å®ä¾‹å±æ€§å’Œç±»å±æ€§ | å¤„ç†ä¸å•ä¸ªå®ä¾‹ç›¸å…³çš„æ“ä½œ |
| **ç±»æ–¹æ³•** | `cls` (ç±») | `@classmethod` | **åªèƒ½**è®¿é—®ç±»å±æ€§ | å¤„ç†ä¸æ•´ä¸ªç±»ç›¸å…³çš„æ“ä½œï¼Œå¦‚å·¥å‚æ–¹æ³• |
| **é™æ€æ–¹æ³•** | (æ— ) | `@staticmethod` | **ä¸èƒ½**è®¿é—®å®ä¾‹æˆ–ç±»å±æ€§ | ç‹¬ç«‹çš„å·¥å…·å‡½æ•°ï¼Œä¸ç±»æœ‰é€»è¾‘å…³è”ä½†ä¸éœ€è¦ç±»æˆ–å®ä¾‹çš„çŠ¶æ€ |

</details>

---

## é¢˜ç›®7ï¼šç‰¹æ®Šæ–¹æ³• `__str__` â­â­

**é¢˜ç›®**ï¼šä¸º `Dog` ç±»å®šä¹‰ `__str__` æ–¹æ³•ï¼Œä»¥ä¾¿åœ¨ `print()` å¯¹è±¡æ—¶èƒ½è·å¾—æ›´å‹å¥½çš„è¾“å‡ºã€‚

```python
# ä»»åŠ¡ï¼š
# 1. åœ¨ `Dog` ç±»ä¸­å®šä¹‰ `__str__` æ–¹æ³•
# 2. è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæè¿°ç‹—ç‹—ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼Œå¦‚ "ä¸€åªåå«[åå­—]çš„[å¹´é¾„]å²ç‹—ç‹—"
# 3. åˆ›å»ºå®ä¾‹å¹¶ä½¿ç”¨ `print()` æ‰“å°å®ƒ
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def __str__(self):
        """å®šä¹‰ print(obj) æ—¶çš„è¾“å‡º"""
        return f"ä¸€åªåå« {self.name} çš„ {self.age} å²ç‹—ç‹—"
        
    def __repr__(self):
        """å®šä¹‰ç›´æ¥æŸ¥çœ‹å¯¹è±¡æˆ–åœ¨å®¹å™¨ä¸­æŸ¥çœ‹æ—¶çš„è¾“å‡º"""
        return f"Dog(name='{self.name}', age={self.age})"

my_dog = Dog("å°ç™½", 3)

# print() ä¼šè‡ªåŠ¨è°ƒç”¨ __str__ æ–¹æ³•
print(my_dog)  # ä¸€åªåå« å°ç™½ çš„ 3 å²ç‹—ç‹—

# ç›´æ¥åœ¨è§£é‡Šå™¨ä¸­è¾“å…¥å¯¹è±¡åï¼Œæˆ–åœ¨åˆ—è¡¨ä¸­æŸ¥çœ‹ï¼Œä¼šè°ƒç”¨ __repr__
print([my_dog]) # [Dog(name='å°ç™½', age=3)]
```

**çŸ¥è¯†ç‚¹**ï¼š
- **`__str__(self)`**ï¼šå½“å¯¹å®ä¾‹ä½¿ç”¨ `print()` æˆ– `str()` æ—¶è°ƒç”¨ã€‚ç›®æ ‡æ˜¯**æ˜“äºé˜…è¯»**ã€‚
- **`__repr__(self)`**ï¼šå½“ç›´æ¥åœ¨è§£é‡Šå™¨ä¸­è¾“å…¥å®ä¾‹åï¼Œæˆ–å®ä¾‹è¢«åŒ…å«åœ¨å…¶ä»–å®¹å™¨ï¼ˆå¦‚åˆ—è¡¨ï¼‰ä¸­æ—¶è°ƒç”¨ã€‚ç›®æ ‡æ˜¯**æ˜ç¡®æ— æ­§- ä¹‰**ï¼Œæœ€å¥½èƒ½è®© `eval(repr(obj)) == obj`ã€‚
- å¦‚æœåªå®šä¹‰äº† `__repr__`ï¼Œ`__str__` ä¼šé»˜è®¤ä½¿ç”¨ `__repr__` çš„ç»“æœã€‚å› æ­¤ï¼Œè‡³å°‘å®ç° `__repr__` æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚

</details>

---

## é¢˜ç›®8ï¼šå±æ€§çš„å°è£…ï¼ˆç§æœ‰å±æ€§ï¼‰ â­â­â­

**é¢˜ç›®**ï¼šå®šä¹‰ä¸€ä¸ª `BankAccount` ç±»ï¼Œå°†ä½™é¢è®¾ä¸ºç§æœ‰å±æ€§ï¼Œå¹¶é€šè¿‡æ–¹æ³•æ¥å­˜å–æ¬¾ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. å®šä¹‰ `BankAccount` ç±»
# 2. å°†ä½™é¢ `balance` å®šä¹‰ä¸ºç§æœ‰å±æ€§ï¼ˆä»¥åŒä¸‹åˆ’çº¿ `__` å¼€å¤´ï¼‰
# 3. å®šä¹‰ `deposit` (å­˜æ¬¾) å’Œ `withdraw` (å–æ¬¾) æ–¹æ³•æ¥ä¿®æ”¹ä½™é¢
# 4. å®šä¹‰ `get_balance` æ–¹æ³•æ¥è·å–ä½™é¢
# 5. éªŒè¯æ— æ³•ä»å¤–éƒ¨ç›´æ¥è®¿é—®ç§æœ‰å±æ€§
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
class BankAccount:
    def __init__(self, initial_balance=0):
        # åŒä¸‹åˆ’çº¿å¼€å¤´çš„å±æ€§æ˜¯ç§æœ‰çš„
        self.__balance = initial_balance

    def deposit(self, amount):
        """å­˜æ¬¾"""
        if amount > 0:
            self.__balance += amount
            print(f"å­˜æ¬¾ {amount} æˆåŠŸï¼Œå½“å‰ä½™é¢ {self.__balance}")
        else:
            print("å­˜æ¬¾é‡‘é¢å¿…é¡»å¤§äº0")

    def withdraw(self, amount):
        """å–æ¬¾"""
        if amount > self.__balance:
            print("ä½™é¢ä¸è¶³")
        elif amount <= 0:
            print("å–æ¬¾é‡‘é¢å¿…é¡»å¤§äº0")
        else:
            self.__balance -= amount
            print(f"å–æ¬¾ {amount} æˆåŠŸï¼Œå½“å‰ä½™é¢ {self.__balance}")

    def get_balance(self):
        """è·å–ä½™é¢"""
        return self.__balance

# åˆ›å»ºè´¦æˆ·
account = BankAccount(1000)
print(f"åˆå§‹ä½™é¢: {account.get_balance()}")

# å­˜å–æ¬¾
account.deposit(500)
account.withdraw(200)
account.withdraw(2000) # ä½™é¢ä¸è¶³

# å°è¯•ä»å¤–éƒ¨ç›´æ¥è®¿é—®ç§æœ‰å±æ€§
try:
    print(account.__balance)
except AttributeError as e:
    print(f"\nè®¿é—®å¤±è´¥: {e}")
    # è®¿é—®å¤±è´¥: 'BankAccount' object has no attribute '__balance'

# Python çš„ç§æœ‰å±æ€§æ˜¯é€šè¿‡â€œåå­—é‡æ•´â€å®ç°çš„
# ä»ç„¶å¯ä»¥é€šè¿‡ account._BankAccount__balance è®¿é—®ï¼Œä½†è¿™ä¸æ¨è
print(f"é€šè¿‡ç‰¹æ®Šæ–¹å¼è®¿é—®: {account._BankAccount__balance}")
```

**çŸ¥è¯†ç‚¹**ï¼š
- **å°è£…**ï¼šå°†æ•°æ®ï¼ˆå±æ€§ï¼‰å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•æ†ç»‘åœ¨ä¸€èµ·ï¼Œå¹¶å¯¹å¤–éƒ¨éšè—æ•°æ®çš„å®ç°ç»†èŠ‚ã€‚
- **ç§æœ‰å±æ€§**ï¼šä»¥åŒä¸‹åˆ’çº¿ `__` å¼€å¤´çš„å±æ€§ï¼ˆå¦‚ `self.__balance`ï¼‰ï¼Œåœ¨ç±»çš„å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ã€‚è¿™å¯ä»¥é˜²æ­¢å¤–éƒ¨ä»£ç éšæ„ä¿®æ”¹å†…éƒ¨çŠ¶æ€ï¼Œä¿è¯äº†æ•°æ®çš„å®‰å…¨æ€§ã€‚
- **å…¬æœ‰æ–¹æ³•**ï¼šç±»ä¸­å®šä¹‰çš„æ™®é€šæ–¹æ³•ï¼Œæ˜¯å¤–éƒ¨ä¸ç±»äº¤äº’çš„æ¥å£ã€‚

</details>

---

## é¢˜ç›®9ï¼šç»¼åˆç»ƒä¹ ï¼šå›¾å½¢è®¡ç®— â­â­â­â­

**é¢˜ç›®**ï¼šåˆ›å»ºä¸€ä¸ªå›¾å½¢è®¡ç®—ç³»ç»Ÿï¼ŒåŒ…å«ä¸€ä¸ª `Shape` åŸºç±»å’Œ `Rectangle`ã€`Circle` ä¸¤ä¸ªå­ç±»ï¼Œéƒ½èƒ½è®¡ç®—é¢ç§¯å’Œå‘¨é•¿ã€‚

```python
# ä»»åŠ¡ï¼š
# 1. å®šä¹‰ä¸€ä¸ª `Shape` åŸºç±»ï¼ŒåŒ…å« `area` å’Œ `perimeter` æ–¹æ³•ï¼ˆä½†åª `pass` æˆ–æŠ›å‡ºå¼‚å¸¸ï¼‰
# 2. å®šä¹‰ `Rectangle` å­ç±»ï¼Œæ¥æ”¶ `width` å’Œ `height`ï¼Œé‡å†™ `area` å’Œ `perimeter`
# 3. å®šä¹‰ `Circle` å­ç±»ï¼Œæ¥æ”¶ `radius`ï¼Œé‡å†™ `area` å’Œ `perimeter`
# 4. åˆ›å»ºä¸åŒå›¾å½¢çš„å®ä¾‹å¹¶è®¡ç®—å®ƒä»¬çš„é¢ç§¯å’Œå‘¨é•¿
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```python
import math

# åŸºç±» (çˆ¶ç±»)
class Shape:
    def area(self):
        """è®¡ç®—é¢ç§¯"""
        raise NotImplementedError("å­ç±»å¿…é¡»å®ç°è¿™ä¸ªæ–¹æ³•")

    def perimeter(self):
        """è®¡ç®—å‘¨é•¿"""
        raise NotImplementedError("å­ç±»å¿…é¡»å®ç°è¿™ä¸ªæ–¹æ³•")

# å­ç±»ï¼šçŸ©å½¢
class Rectangle(Shape):
    def __init__(self, width, height):
        self.width = width
        self.height = height

    def area(self):
        return self.width * self.height

    def perimeter(self):
        return 2 * (self.width + self.height)

# å­ç±»ï¼šåœ†å½¢
class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius

    def area(self):
        return math.pi * (self.radius ** 2)

    def perimeter(self):
        return 2 * math.pi * self.radius

# åˆ›å»ºå®ä¾‹
rect = Rectangle(10, 5)
circ = Circle(7)

# å¤šæ€çš„ä½“ç°ï¼šä¸åŒå¯¹è±¡è°ƒç”¨ç›¸åŒæ–¹æ³•ï¼Œè¡¨ç°å‡ºä¸åŒè¡Œä¸º
shapes = [rect, circ]

for shape in shapes:
    print(f"\n--- {shape.__class__.__name__} ---")
    print(f"é¢ç§¯: {shape.area():.2f}")
    print(f"å‘¨é•¿: {shape.perimeter():.2f}")

# --- Rectangle ---
# é¢ç§¯: 50.00
# å‘¨é•¿: 30.00
#
# --- Circle ---
# é¢ç§¯: 153.94
# å‘¨é•¿: 43.98
```

**çŸ¥è¯†ç‚¹**ï¼š
- **æŠ½è±¡åŸºç±»**ï¼š`Shape` ç±»å®šä¹‰äº†ä¸€ä¸ªæ¥å£è§„èŒƒï¼Œä½†è‡ªèº«ä¸å®ç°å…·ä½“åŠŸèƒ½ã€‚
- **`NotImplementedError`**ï¼šå¼ºåˆ¶å­ç±»å¿…é¡»å®ç°æŸäº›æ–¹æ³•ã€‚
- **å¤šæ€ (Polymorphism)**ï¼šä¸åŒç±»çš„å¯¹è±¡ï¼ˆ`Rectangle`, `Circle`ï¼‰å¯ä»¥å“åº”ç›¸åŒçš„æ–¹æ³•è°ƒç”¨ï¼ˆ`area`, `perimeter`ï¼‰ï¼Œå¹¶äº§ç”Ÿä¸åŒçš„ç»“æœã€‚è¿™æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€ã€‚

</details>

---

## ğŸ¯ çŸ¥è¯†ç‚¹æ€»ç»“

### å¿…é¡»æŒæ¡
- âœ… ç±»çš„å®šä¹‰ï¼š`class`
- âœ… æ„é€ æ–¹æ³•ï¼š`__init__(self, ...)`
- âœ… å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•
- âœ… ç»§æ‰¿ï¼š`class Child(Parent):`
- âœ… `super()` è°ƒç”¨çˆ¶ç±»æ–¹æ³•
- âœ… æ–¹æ³•é‡å†™

### åŠ åˆ†é¡¹
- ç±»å±æ€§ vs å®ä¾‹å±æ€§
- ç±»æ–¹æ³• (`@classmethod`) vs é™æ€æ–¹æ³• (`@staticmethod`)
- ç‰¹æ®Šæ–¹æ³•ï¼š`__str__`, `__repr__`
- å°è£…ï¼šç§æœ‰å±æ€§ `__attribute`
- å¤šæ€

---

## ğŸ“ è‡ªæˆ‘æ£€æµ‹

å®Œæˆä»¥ä¸Šé¢˜ç›®åï¼Œé—®è‡ªå·±ï¼š
- [ ] èƒ½å¦åˆ›å»ºä¸€ä¸ªç®€å•çš„ç±»å¹¶å®ä¾‹åŒ–å®ƒï¼Ÿ
- [ ] ç†è§£ `self` çš„ä½œç”¨å—ï¼Ÿ
- [ ] çŸ¥é“å¦‚ä½•å®ç°ç»§æ‰¿å¹¶ä½¿ç”¨ `super()` å—ï¼Ÿ
- [ ] èƒ½åŒºåˆ†å®ä¾‹å±æ€§å’Œç±»å±æ€§å—ï¼Ÿ
- [ ] çŸ¥é“ `__str__` å’Œ `__repr__` çš„åŒºåˆ«å’Œç”¨é€”å—ï¼Ÿ

å¦‚æœéƒ½èƒ½åšåˆ°ï¼Œæ­å–œä½ å·²ç»æŒæ¡äº† Python é¢å‘å¯¹è±¡çš„åŸºç¡€ï¼ğŸ‰

**ä¸‹ä¸€æ­¥**ï¼š[09_ç»¼åˆç»ƒä¹ ](09_comprehensive_exercises.md)